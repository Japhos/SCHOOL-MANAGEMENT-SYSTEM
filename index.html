<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SCHOOL MANAGEMENT SYSTEM - NYAMBUNWA ACADEMY</title>
<style>
    body{
        font-family:'Segoe UI',Tahoma,sans-serif;
        margin:0;
        background:#e9f7ec;
    }
    header{
        background:#0b722d;
        color:#fff;
        padding:18px;
        text-align:center;
        font-size:28px;
        font-weight:700;
        letter-spacing:1px;
    }
    .sub-title{
        text-align:center;
        color:#064d1a;
        font-weight:600;
        margin-top:6px;
        font-size:18px;
    }
    .container{ padding:20px; max-width:1100px; margin:0 auto; }
    .grid{
        display:grid;
        grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
        gap:18px;
        margin-top:28px;
    }
    .card{
        background:#fff;
        padding:26px;
        border-radius:10px;
        box-shadow:0 2px 6px rgba(0,0,0,0.12);
        text-align:center;
        cursor:pointer;
        transition:transform .18s ease, background .18s;
        border-left:6px solid #0b722d;
        user-select:none;
    }
    .card:hover{ transform:translateY(-4px); background:#d6f5d9; }
    .card h3{ margin:0; color:#064d1a; font-size:20px; }
    .note{ text-align:center; color:#064d1a; margin-top:12px; font-size:14px; }
    footer{
        margin-top:40px;
        text-align:center;
        padding:12px;
        background:#0b722d;
        color:#fff;
        font-size:14px;
    }
    #logoutBtn{
        margin:20px auto;
        display:block;
        width:150px;
        padding:10px;
        border:none;
        border-radius:6px;
        background:#0b722d;
        color:white;
        font-size:16px;
        cursor:pointer;
    }
    #logoutBtn:hover{ background:#095a24; }
    @media (max-width:420px){
        header{ font-size:22px; padding:14px; }
    }
</style>
</head>
<body>

<header>SCHOOL MANAGEMENT SYSTEM</header>
<div class="sub-title">NYAMBUNWA ACADEMY</div>

<div class="container">
    <h2 style="color:#064d1a; text-align:center; margin:12px 0 0;">Main Menu</h2>

    <div class="grid">
        <div class="card" onclick="go('students.html')">
            <h3>Students Management</h3>
        </div>

        <div class="card" onclick="go('staff.html')">
            <h3>Staff / Teachers Management</h3>
        </div>

        <div class="card" onclick="go('classes.html')">
            <h3>Classes &amp; Subjects</h3>
        </div>

        <div class="card" onclick="go('exams.html')">
            <h3>Examinations &amp; Results</h3>
        </div>

        <div class="card" id="usersCard" onclick="go('users.html')">
            <h3>User Accounts &amp; Roles (Admin Panel)</h3>
        </div>

        <!-- Reports / Report Forms Card -->
        <div class="card" onclick="go('reports.html')">
            <h3>Reports / Report Forms</h3>
        </div>
    </div>

    <p class="note">Make sure the module files (students.html, staff.html, classes.html, exams.html, users.html, reports.html) are in the same folder as this index.html.</p>

    <button id="logoutBtn" onclick="logout()">Logout</button>
</div>

<footer>© 2025 NYAMBUNWA ACADEMY — School Management System</footer>

<script>
// ===== LOGIN CHECK =====
window.onload = function() {
    const username = localStorage.getItem("loggedInUser");
    const role = localStorage.getItem("userRole");

    // Redirect to login if not logged in
    if (!username || !role) {
        window.location.href = "login.html";
        return;
    }

    // Only admin can see Users & Roles card
    if (role !== "admin") {
        document.getElementById("usersCard").style.display = "none";
    }
};

// ===== NAVIGATION =====
function go(path){
    window.location.href = path;
}

// ===== LOGOUT =====
function logout() {
    localStorage.removeItem("loggedInUser");
    localStorage.removeItem("userRole");
    window.location.href = "login.html";
}
</script>

</body>
</html>
